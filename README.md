# API Testing Project

This project contains pytest test cases for testing the API endpoints.

## Results
|      filepath       |               function                | $$\textcolor{#23d18b}{\tt{passed}}$$ | $$\textcolor{#f14c4c}{\tt{failed}}$$ | $$\textcolor{#f5f543}{\tt{skipped}}$$ | SUBTOTAL |
| ------------------- | ------------------------------------- | --------------------------------: | --------------------------------: | --------------------------------: | -------: |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_smoke\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_verified\\_date\\_is\\_correct}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_post\\_verified\\_date\\_is\\_correct}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_put\\_verified\\_date\\_is\\_correct}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_get\\_deals\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_get\\_deal\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_update\\_on\\_non\\_existing}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_delete\\_on\\_non\\_existing}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v1/test\\_smoke\\_v1.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_merchants\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_smoke\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_get\\_deals\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_get\\_deal\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_update\\_on\\_non\\_existing}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_delete\\_on\\_non\\_existing}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#23d18b}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#23d18b}{\tt{test\\_merchants\\_green}}$$ |   $$\textcolor{#23d18b}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#23d18b}{\tt{1}}$$ |
| $$\textcolor{#f14c4c}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#f14c4c}{\tt{test\\_verified\\_date\\_is\\_correct}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#f14c4c}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#f14c4c}{\tt{1}}$$ |
| $$\textcolor{#f14c4c}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#f14c4c}{\tt{test\\_post\\_verified\\_date\\_is\\_correct}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#f14c4c}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#f14c4c}{\tt{1}}$$ |
| $$\textcolor{#f14c4c}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#f14c4c}{\tt{test\\_put\\_verified\\_date\\_is\\_correct}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#f14c4c}{\tt{1}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ | $$\textcolor{#f14c4c}{\tt{1}}$$ |
| $$\textcolor{#f5f543}{\tt{v2/test\\_smoke\\_v2.py}}$$ | $$\textcolor{#f5f543}{\tt{test\\_search\\_on\\_different\\_query\\_params}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#666666}{\tt{0}}$$ |   $$\textcolor{#f5f543}{\tt{1}}$$ | $$\textcolor{#f5f543}{\tt{1}}$$ |
| $$\textcolor{#f14c4c}{\tt{TOTAL}}$$ |                                       |  $$\textcolor{#23d18b}{\tt{15}}$$ |   $$\textcolor{#f14c4c}{\tt{3}}$$ |   $$\textcolor{#f5f543}{\tt{1}}$$ | $$\textcolor{#f14c4c}{\tt{19}}$$ |

## Setup

1. Create a virtual environment (recommended):
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

2. Install dependencies:
```bash
pip install -r requirements.txt
```

3. Create a `.env` file in the project root and add your API key:
```
API_KEY=your_api_key_here
```

## Running Tests

To run all tests:
```bash
python -m pytest
```

To run a specific test:
```bash
python -m pytest test_api.py::test_get_deals
```

Get reports
```bash
pip install pytest-md-report
python -m pytest --md-report --md-report-verbose=1 --md-report-flavor gfm
```

## Test Cases

The project includes test cases for:
- GET /api/v2/GetDeals/ - Fetch deals with query parameters
- POST /api/v2/Deals/ - Create a new deal
- PUT /api/v2/Deals/{id} - Update an existing deal
- DELETE /api/v2/Deals/{id} - Delete a deal

## Notes

- Make sure to set your API key in the `.env` file before running tests
- The tests are designed to run in sequence, where some tests depend on the results of previous tests
- The base URL is configured in `config.py` 